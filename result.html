<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>사브사리 · 오늘의 행운</title>
  <link rel="stylesheet" href="styles/style.css">
  <style>
    :root{ --ink:#333; --radius:16px; }
    body{
      font-family:"Pretendard",system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR",Arial,sans-serif;
      background: radial-gradient(1200px 600px at 50% -10%, #ffe4f1 0%, #fff9fd 40%, #fff9fd 100%);
      color:var(--ink); margin:0;
    }
    .wrap{max-width:480px;margin:0 auto;padding:20px 16px 40px}
    .card{background:#fff;border-radius:var(--radius);padding:24px;text-align:center;box-shadow:0 6px 20px rgba(255,146,194,.25)}
    .chip{display:inline-block;padding:6px 10px;border-radius:999px;background:#fff0f6;color:#c43c7a;font-weight:700;font-size:12px;margin-bottom:6px;border:1px solid #ffd6e9}
    .fortune{
      padding:18px;border-radius:16px;line-height:1.6;font-size:18px;font-weight:800;margin-top:10px;
      background:conic-gradient(from 180deg at 50% 50%,#fff 0 30%,#fff7fb 30% 60%,#eef8ff 60% 100%);
      border:1px dashed #ffd1e6;
    }
    .btn{
      display:inline-block;width:100%;padding:14px 16px;border:none;border-radius:16px;font-weight:700;font-size:16px;text-align:center;text-decoration:none;
      background:linear-gradient(90deg,#ff92c2,#ffc1dd); color:#fff; box-shadow:0 6px 12px rgba(255,146,194,.35); margin-top:14px;
    }
    .footer{text-align:center;color:#999;font-size:12px;margin-top:18px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="chip">오늘의 행운</div>
      <div class="fortune" id="fortuneText">행운을 불러오는 중...</div>

      <!-- 다시 뽑기 버튼 -->
      <a href="./loading.html" class="btn">새로운 행운 메시지 뽑기</a>

      <div style="margin-top:12px">
        <a class="tip" href="./index.html">처음으로</a>
      </div>
    </div>
    <div class="footer">© Namusoo Design · Sabsari</div>
  </div>

  <!-- fortunes52.js를 defer로 확실히 로드 -->
  <script src="./assets/fortunes52.js" defer></script>

  <script>
    // fortunes52.js가 로드될 때까지 기다린 뒤 실행
    window.addEventListener('load', () => {
      const fortuneEl = document.getElementById('fortuneText');
      if (!window.FORTUNE_52 || !Array.isArray(FORTUNE_52)) {
        fortuneEl.textContent = '행운 메시지를 불러오지 못했습니다 😢';
        return;
      }
      const random = Math.floor(Math.random() * FORTUNE_52.length);
      fortuneEl.textContent = FORTUNE_52[random];
    });
  </script>
</body>
</html>
